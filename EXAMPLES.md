# –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è SQLite Database Manager

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°–æ–∑–¥–∞–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

#### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É: `python3 db_manager.py`
2. –§–∞–π–ª ‚Üí –ù–æ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ `employees.db`

#### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
1. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É"
2. –ò–º—è —Ç–∞–±–ª–∏—Ü—ã: `employees`
3. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—è:
   - `id` (INTEGER, Primary Key) - —É–∂–µ —Å–æ–∑–¥–∞–Ω–æ
   - `last_name` (TEXT, NOT NULL) - —Ñ–∞–º–∏–ª–∏—è
   - `first_name` (TEXT, NOT NULL) - –∏–º—è
   - `middle_name` (TEXT, NULL) - –æ—Ç—á–µ—Å—Ç–≤–æ
   - `position` (TEXT, NOT NULL) - –¥–æ–ª–∂–Ω–æ—Å—Ç—å
   - `department` (TEXT, NOT NULL) - –æ—Ç–¥–µ–ª
   - `hire_date` (TEXT, NOT NULL) - –¥–∞—Ç–∞ –ø—Ä–∏–µ–º–∞
   - `salary` (REAL, NULL) - –∑–∞—Ä–ø–ª–∞—Ç–∞
   - `phone` (TEXT, NULL) - —Ç–µ–ª–µ—Ñ–æ–Ω
   - `email` (TEXT, NULL) - email

#### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```sql
-- –ß–µ—Ä–µ–∑ SQL –∑–∞–ø—Ä–æ—Å (–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ‚Üí SQL –∑–∞–ø—Ä–æ—Å)
INSERT INTO employees (last_name, first_name, middle_name, position, department, hire_date, salary, phone, email) VALUES
('–ò–≤–∞–Ω–æ–≤', '–ò–≤–∞–Ω', '–ò–≤–∞–Ω–æ–≤–∏—á', '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç', '–ò–¢', '2023-01-15', 80000, '+7-900-123-45-67', 'ivanov@company.ru'),
('–ü–µ—Ç—Ä–æ–≤', '–ü–µ—Ç—Ä', '–ü–µ—Ç—Ä–æ–≤–∏—á', '–ê–Ω–∞–ª–∏—Ç–∏–∫', '–ò–¢', '2023-02-01', 75000, '+7-900-234-56-78', 'petrov@company.ru'),
('–°–∏–¥–æ—Ä–æ–≤–∞', '–ê–Ω–Ω–∞', '–í–∏–∫—Ç–æ—Ä–æ–≤–Ω–∞', '–ú–µ–Ω–µ–¥–∂–µ—Ä', '–ü—Ä–æ–¥–∞–∂–∏', '2023-01-20', 65000, '+7-900-345-67-89', 'sidorova@company.ru');
```

#### –®–∞–≥ 4: –ü–æ–ª–µ–∑–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
```sql
-- –í—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ò–¢ –æ—Ç–¥–µ–ª–∞
SELECT last_name, first_name, position, salary 
FROM employees 
WHERE department = '–ò–¢';

-- –°—Ä–µ–¥–Ω—è—è –∑–∞—Ä–ø–ª–∞—Ç–∞ –ø–æ –æ—Ç–¥–µ–ª–∞–º
SELECT department, AVG(salary) as avg_salary 
FROM employees 
GROUP BY department;

-- –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å –∑–∞—Ä–ø–ª–∞—Ç–æ–π –≤—ã—à–µ 70000
SELECT last_name, first_name, position, salary 
FROM employees 
WHERE salary > 70000 
ORDER BY salary DESC;
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –°–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–µ

#### –¢–∞–±–ª–∏—Ü–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
```sql
CREATE TABLE categories (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    description TEXT
);
```

#### –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤
```sql
CREATE TABLE products (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    category_id INTEGER,
    price REAL NOT NULL,
    quantity INTEGER DEFAULT 0,
    min_quantity INTEGER DEFAULT 10,
    created_date TEXT,
    FOREIGN KEY (category_id) REFERENCES categories(id)
);
```

#### –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```sql
-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
INSERT INTO categories (name, description) VALUES
('–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞', '–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã'),
('–ö–∞–Ω—Ü–µ–ª—è—Ä–∏—è', '–ö–∞–Ω—Ü–µ–ª—è—Ä—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã –∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏'),
('–ú–µ–±–µ–ª—å', '–û—Ñ–∏—Å–Ω–∞—è –∏ –¥–æ–º–∞—à–Ω—è—è –º–µ–±–µ–ª—å');

-- –¢–æ–≤–∞—Ä—ã
INSERT INTO products (name, category_id, price, quantity, min_quantity, created_date) VALUES
('–ù–æ—É—Ç–±—É–∫ Dell', 1, 45000, 5, 2, '2023-01-10'),
('–ú—ã—à—å Logitech', 1, 1500, 25, 10, '2023-01-10'),
('–†—É—á–∫–∞ —Å–∏–Ω—è—è', 2, 15, 100, 50, '2023-01-10'),
('–°—Ç–æ–ª –æ—Ñ–∏—Å–Ω—ã–π', 3, 12000, 3, 1, '2023-01-10');
```

#### –ü–æ–ª–µ–∑–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Å–∫–ª–∞–¥–∞
```sql
-- –¢–æ–≤–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∑–∞–∫–∞–∑–∞—Ç—å (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ)
SELECT p.name, p.quantity, p.min_quantity, c.name as category
FROM products p
JOIN categories c ON p.category_id = c.id
WHERE p.quantity < p.min_quantity;

-- –°—Ç–æ–∏–º–æ—Å—Ç—å –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–µ
SELECT 
    c.name as category,
    SUM(p.price * p.quantity) as total_value
FROM products p
JOIN categories c ON p.category_id = c.id
GROUP BY c.name;

-- –°–∞–º—ã–µ –¥–æ—Ä–æ–≥–∏–µ —Ç–æ–≤–∞—Ä—ã
SELECT name, price, quantity, (price * quantity) as total_cost
FROM products
ORDER BY price DESC
LIMIT 5;
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –∑–∞–∫–∞–∑–æ–≤

#### –¢–∞–±–ª–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
```sql
CREATE TABLE customers (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    company TEXT,
    phone TEXT,
    email TEXT,
    address TEXT,
    registration_date TEXT
);
```

#### –¢–∞–±–ª–∏—Ü–∞ –∑–∞–∫–∞–∑–æ–≤
```sql
CREATE TABLE orders (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    customer_id INTEGER,
    order_date TEXT NOT NULL,
    total_amount REAL,
    status TEXT DEFAULT '–ù–æ–≤—ã–π',
    notes TEXT,
    FOREIGN KEY (customer_id) REFERENCES customers(id)
);
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```sql
-- –ö–ª–∏–µ–Ω—Ç—ã
INSERT INTO customers (name, company, phone, email, address, registration_date) VALUES
('–ò–≤–∞–Ω–æ–≤ –ò.–ò.', '–û–û–û –†–æ–≥–∞ –∏ –ö–æ–ø—ã—Ç–∞', '+7-900-111-22-33', 'ivanov@rk.ru', '–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, 1', '2023-01-05'),
('–ü–µ—Ç—Ä–æ–≤ –ü.–ü.', '–ò–ü –ü–µ—Ç—Ä–æ–≤', '+7-900-222-33-44', 'petrov@mail.ru', '–≥. –°–ü–±, –ø—Ä. –ú–∏—Ä–∞, 15', '2023-01-10');

-- –ó–∞–∫–∞–∑—ã
INSERT INTO orders (customer_id, order_date, total_amount, status, notes) VALUES
(1, '2023-03-01', 15000, '–í—ã–ø–æ–ª–Ω–µ–Ω', '–ó–∞–∫–∞–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω –≤ —Å—Ä–æ–∫'),
(1, '2023-03-15', 8500, '–í —Ä–∞–±–æ—Ç–µ', '–û–∂–∏–¥–∞–µ–º –ø–æ—Å—Ç–∞–≤–∫—É –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏—Ö'),
(2, '2023-03-10', 25000, '–ù–æ–≤—ã–π', '–ö—Ä—É–ø–Ω—ã–π –∑–∞–∫–∞–∑, —Ç—Ä–µ–±—É–µ—Ç –æ—Å–æ–±–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è');
```

#### –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã
```sql
-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–ª–∏–µ–Ω—Ç–∞–º
SELECT 
    c.name,
    c.company,
    COUNT(o.id) as orders_count,
    SUM(o.total_amount) as total_spent
FROM customers c
LEFT JOIN orders o ON c.id = o.customer_id
GROUP BY c.id, c.name, c.company;

-- –ó–∞–∫–∞–∑—ã –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü
SELECT 
    o.id,
    c.name as customer,
    o.order_date,
    o.total_amount,
    o.status
FROM orders o
JOIN customers c ON o.customer_id = c.id
WHERE o.order_date LIKE '2023-03%'
ORDER BY o.order_date DESC;

-- –ó–∞–∫–∞–∑—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
SELECT 
    status,
    COUNT(*) as count,
    SUM(total_amount) as total_sum
FROM orders
GROUP BY status;
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–µ–º—ã

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
```python
# –ü–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –º–∞—Å—Å–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø
# –§–∞–π–ª ‚Üí –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞
CREATE INDEX idx_employee_department ON employees(department);
CREATE INDEX idx_customer_email ON customers(email);
CREATE INDEX idx_order_date ON orders(order_date);

-- –û—á–∏—Å—Ç–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ë–î
VACUUM; -- —á–µ—Ä–µ–∑ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ‚Üí –í–∞–∫—É—É–º –ë–î
```

### –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏
```sql
-- SQLite —Ö—Ä–∞–Ω–∏—Ç –¥–∞—Ç—ã –∫–∞–∫ —Ç–µ–∫—Å—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç YYYY-MM-DD
INSERT INTO orders (order_date, ...) VALUES ('2023-03-15', ...);

-- –ü–æ–∏—Å–∫ –ø–æ –¥–∞—Ç–∞–º
SELECT * FROM orders WHERE order_date >= '2023-03-01' AND order_date < '2023-04-01';

-- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏
SELECT 
    order_date,
    strftime('%Y', order_date) as year,
    strftime('%m', order_date) as month,
    strftime('%d', order_date) as day
FROM orders;
```

### –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
```sql
-- –î–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ CSV –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π SELECT
SELECT 
    last_name || ',' || first_name || ',' || position || ',' || salary
FROM employees;

-- –ó–∞—Ç–µ–º —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç" –≤ –¥–∏–∞–ª–æ–≥–µ SQL
```

---

## üéì –û–±—É—á–∞—é—â–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞
–°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É —É—á–µ—Ç–∞ –∫–Ω–∏–≥ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ:
- –¢–∞–±–ª–∏—Ü–∞ –∞–≤—Ç–æ—Ä–æ–≤ (authors)
- –¢–∞–±–ª–∏—Ü–∞ –∫–Ω–∏–≥ (books) 
- –¢–∞–±–ª–∏—Ü–∞ —á–∏—Ç–∞—Ç–µ–ª–µ–π (readers)
- –¢–∞–±–ª–∏—Ü–∞ –≤—ã–¥–∞—á (loans)

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 2: –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω
–°–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞:
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
- –¢–æ–≤–∞—Ä—ã
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –ó–∞–∫–∞–∑—ã
- –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 3: –£—á–µ–±–Ω–æ–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ
–°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—á–µ–±–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º:
- –°—Ç—É–¥–µ–Ω—Ç—ã
- –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏  
- –ü—Ä–µ–¥–º–µ—Ç—ã
- –ì—Ä—É–ø–ø—ã
- –û—Ü–µ–Ω–∫–∏

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

### 1. –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü –∏ –ø–æ–ª–µ–π
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å (snake_case)
- –ò–∑–±–µ–≥–∞–π—Ç–µ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤ SQL

### 2. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
- TEXT –¥–ª—è —Å—Ç—Ä–æ–∫ –ª—é–±–æ–π –¥–ª–∏–Ω—ã
- INTEGER –¥–ª—è —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª
- REAL –¥–ª—è –¥—Ä–æ–±–Ω—ã—Ö —á–∏—Å–µ–ª
- –î–∞—Ç—ã —Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ TEXT –≤ —Ñ–æ—Ä–º–∞—Ç–µ 'YYYY-MM-DD'

### 3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
- –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ PRIMARY KEY
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ NOT NULL –¥–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ FOREIGN KEY –¥–ª—è —Å–≤—è–∑–µ–π

### 4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- –†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –º–∞—Å—Å–æ–≤—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

–£–¥–∞—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è SQLite Database Manager! üöÄ